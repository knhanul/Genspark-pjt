#!/bin/bash

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ðŸŽµ íŒì†¡ í•™ìŠµ ì•± ì‹¤í–‰ (ê°„ì†Œí™” ë²„ì „)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# ë°±ì—”ë“œ ì‹¤í–‰
echo "ðŸ“¡ ë°±ì—”ë“œ ì„œë²„ ì‹œìž‘..."
node server/index.js &
BACKEND_PID=$!

sleep 2

# í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰ (í™˜ê²½ ë³€ìˆ˜ ì„¤ì •)
echo "ðŸŽ¨ í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹œìž‘..."
cd client
SKIP_PREFLIGHT_CHECK=true PORT=3001 npm start &
FRONTEND_PID=$!

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… ì„œë²„ ì‹¤í–‰ ì™„ë£Œ!"
echo ""
echo "ðŸ“ ì ‘ì† ì£¼ì†Œ:"
echo "   - ë°±ì—”ë“œ: http://localhost:3000"
echo "   - í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3001"
echo ""
echo "âš ï¸  ì¢…ë£Œ: Ctrl+C"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

trap "kill $BACKEND_PID $FRONTEND_PID 2>/dev/null; exit" INT TERM
wait
